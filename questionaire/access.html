<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Enter Code</title>
<style>
@font-face {
  font-family: 'Trajan';
  src: local('Trajan Pro'), local('Trajan'), serif;
}

html, body {
  height: 100%;
  margin: 0;
  background-color: #fafafa;
  font-family: 'Trajan', serif;
  font-weight: 200;
  font-size: 17px;
  color: rgba(0,0,0,0.75);
  cursor: none;
  display: flex;
  justify-content: center;
  align-items: center;
  text-align: center;
  overflow: hidden;
}

/* Vignette - softened */
body::before {
  content: "";
  position: fixed;
  top: 0; left: 0; right: 0; bottom: 0;
  pointer-events: none;
  background: radial-gradient(circle, rgba(0,0,0,0) 60%, rgba(0,0,0,0.0175) 100%);
  z-index: 1;
}

/* Front mask - warmer color with 22% opacity */
body::after {
  content: "";
  position: fixed;
  top: 0; left: 0; right: 0; bottom: 0;
  background-color: rgba(255,245,230,0.22);
  mix-blend-mode: darken;
  pointer-events: none;
  z-index: 2;
}

.container {
  max-width: 500px;
  text-align: center;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  position: relative;
  z-index: 3;
}

p {
  font-family: 'Trajan', serif;
  line-height: 1.8;
  letter-spacing: 0.09em;
  margin-bottom: 40px;
  color: rgba(0,0,0,0.75);
  font-size: 22px;
}

.code-inputs {
  display: flex;
  justify-content: center;
  gap: 20px;
}

.code-inputs input {
  width: 40px;                 /* smaller width */
  height: 40px;                /* smaller height */
  text-align: center;
  font-size: 20px;             /* slightly smaller text */
  font-family: 'Trajan', serif;
  font-weight: 200;
  color: rgba(0,0,0,0.75);
  letter-spacing: 0.09em;
  background: #fafafa;
  border: 1px solid rgba(0,0,0,0.2);  /* thinner border */
  border-radius: 6px;
  outline: none;
}

.code-inputs input:focus {
  border-color: rgba(0,0,0,0.75);
}

#custom-cursor {
  position: fixed;
  top: 0; left: 0;
  width: 34px; height: 34px;
  border-radius: 50%;
  pointer-events: none;
  background-color: rgba(0,0,0,0.05);
  transform: translate(-50%, -50%);
  transition: background-color 0.3s, width 0.3s, height 0.3s, opacity 0.2s;
  z-index: 9999;
}
</style>
</head>
<body>

<div class="container">
  <p>Please enter your 6-digit code</p>
  <div class="code-inputs">
    <input type="text" maxlength="1" />
    <input type="text" maxlength="1" />
    <input type="text" maxlength="1" />
    <input type="text" maxlength="1" />
    <input type="text" maxlength="1" />
    <input type="text" maxlength="1" />
  </div>
</div>

<div id="custom-cursor"></div>

<script>
// Custom cursor
const customCursor = document.getElementById('custom-cursor');
document.addEventListener('mousemove', e => {
  customCursor.style.transform = `translate(${e.clientX}px, ${e.clientY}px) translate(-50%, -50%)`;
});

// Auto-focus to next input and redirect after final digit
const inputs = document.querySelectorAll('.code-inputs input');
inputs.forEach((input, idx) => {
  input.addEventListener('input', () => {
    if(input.value.length === 1){
      if(idx < inputs.length - 1){
        inputs[idx + 1].focus();
      } else {
        setTimeout(() => {
          window.location.href = "intro.html";
        }, 200);
      }
    }
  });
  
  input.addEventListener('keydown', (e) => {
    if(e.key === 'Backspace' && input.value === '' && idx > 0){
      inputs[idx - 1].focus();
    }
  });
});
</script>
<div id="menu">
  <script>
  fetch("/menu")
      .then(res => res.text())
      .then(html => {

          document.getElementById("menu").innerHTML = html;
      });
  </script>
</div>
</body>
</html>
